<%= foundation_form_for email_resolver do |f| %>
  <%= f.text_field :domain, required: true, placeholder: 'mit.edu',
        label: 'Domain' %>
  <%= f.text_field :ldap_server, required: true, placeholder: 'ldap.mit.edu',
        label: 'LDAP Server' %>
  <%= f.input_field_set label: 'Use LDAPS' do %>
    <% f.check_box :use_ldaps, label: 'establish a TLS connection before '\
          'communicating with the server' %>
  <% end %>
  <%= f.text_field :ldap_auth_dn, label: 'LDAP Auth DN',
        placeholder: 'leave blank for anonymous authentication' %>
  <%= f.password_field :ldap_password, label: 'LDAP Password' %>
  <%= f.text_field :ldap_search_base, required: true,
        placeholder: 'ou=users,ou=moira,dc=mit,dc=edu',
        label: 'LDAP Search Base DN' %>
  <%= f.text_field :name_ldap_key, required: true, placeholder: 'displayName',
        label: 'Full Name LDAP Attribute' %>
  <%= f.text_field :dept_ldap_key, required: true, placeholder: 'ou',
        label: 'Department LDAP Attribute' %>
  <%= f.text_field :year_ldap_key, required: true,
        placeholder: 'mitDirStudentYear', label: 'Year LDAP Attribute' %>
  <%= f.text_field :user_ldap_key, required: true, placeholder: 'uid',
        label: 'Username LDAP Attribute' %>

  <%= submit_button_tag do %>
    <%= save_icon_tag %> Save Email Resolver
  <% end %>
<% end %>
