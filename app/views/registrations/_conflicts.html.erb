<% if Course.main.has_recitations? %>
<p class="field">
  <span class="label">Availability</span>
  <span class="value">
    <span class="instructions">
      Please only enter numbers for courses that you are registered for, or
      that you will be registered for by the time recitations are assigned.
      If a course covers half an hour, enter it as if it would take up the
      entire hour. Enter a single course number per time slot.
    </span>
    <table class="timetable">
      <thead>
        <tr>
          <th>Time</th>
          <% ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'].each do |day| %>
          <th><%= day %></th>
          <% end %>
        </tr>           
      </thead>
      <tbody>
        <% ['9am', '10am', '11am', '12pm', '1pm', '2pm', '3pm', '4pm', '5pm'].zip((9..17).to_a).each do |hour, dhour| %>
        <tr>
          <th><%= hour %></th>
          <% (0...5).each do |day| %>
          <td>
            <% timeslot = day + dhour * 10 %>
            <%= fields_for("recitation_conflicts[#{timeslot}]",
                  @recitation_conflicts[timeslot].nil? ? 
                  RecitationConflict.new(:timeslot => timeslot) : @recitation_conflicts[timeslot]) do |r|  %>
              <%= r.text_field :class_name, :class => 'form_field', :id => "recitation_conflicts_#{timeslot}_class_name", :size => 8 %>
              <%= r.hidden_field :timeslot, :id => "recitation_conflicts_#{timeslot}_timeslot" %>
            <% end %>
          </td>
          <% end %>
        </tr>
        <% end %>           
      </tbody>
    </table>
  </span>
</p>
<% end %>

