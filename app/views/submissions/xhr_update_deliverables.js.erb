<%= render :partial => 'submissions/filename_spec', :locals => {
  :default_suffix => 'cover', :default_prefix => nil,
  :basename => (@assignment.team_partition ? 'teamname' : 'username'),
  :id => 'cover', :name => 'Cover', :title => 'Cover Sheet', :extension => 'pdf' } %>     

<% @assignment.deliverables.each do |d| %>

<%= render :partial => 'submissions/filename_spec', :locals => {
	:default_suffix => d.filename.blank? ? '' : d.filename[0...(d.filename.rindex(?.) || d.filename.length)],
	:default_prefix => nil,
	:id => d.id,
	:name => d.name,
	:title => d.name,
  :basename => (@assignment.team_partition ? 'teamname' : 'username'),
	:extension => d.filename.blank? ? '{pdf|py}' : d.filename.split('.').last 
} %>
<% end %>