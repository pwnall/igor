<h2 class="grades-list-heading">Grades</h2>
<h3>Recitation: <%= @recitation.nil? ? 'Unassigned' : @recitation.recitation_name %></h3>

<% @grades.each do |assignment, metrics, recitation_average| %>
  <h3 class="grades"><%= assignment.name %> <label class="show-comments" for="assignment-<%= assignment.id %>">Show comments</label></h3>
	<ol class="grades">
    <li class="total">
      <span class="assignment-name">Total</span>
      <span class="scores">
        <span class="score">
          <%= metrics.map { |metric, grade| grade ? grade.score : 0 }.sum %>
        </span>
        /
        <span class="max-score">
          <%= metrics.map { |metric, grade| metric.max_score }.sum %>
        </span>
      </span>
    </li>
    <input type="checkbox" id="assignment-<%= assignment.id %>" >
    <% metrics.each do |metric, grade| %>
		<li>
      <span class="assignment-name"><%= metric.name %></span>

      <span class="scores">
        <span class="score"><%= grade ? grade.score : 'N' %></span>
        /
        <span class="max-score"><%= metric.max_score %></span>
      </span>
      <div class="comments">
        Comments: <%= (grade and grade.comments) ? grade.comments : 'N' %>
      </div>
    </li>
  	<% end %>
	</ol>
<% end %>
